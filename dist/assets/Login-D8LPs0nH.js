import{r,b as j,j as e,L as b,s as y}from"./index-DqEOHoc-.js";import{M as v}from"./mail-BAhLtoAy.js";import{L as N}from"./lock-DSqZAfpU.js";import{L as w}from"./loader-circle-FlUVPQbq.js";function P(){const[a,g]=r.useState(""),[l,h]=r.useState(""),[o,n]=r.useState(!1),[i,d]=r.useState(""),c=j(),p=async t=>{var u,m;t.preventDefault(),n(!0),d("");try{const{data:s,error:x}=await y.auth.signInWithPassword({email:a,password:l});if(x)throw x;if(!(s!=null&&s.session))throw new Error("Authentication succeeded but no session was returned. Please try again.");localStorage.setItem("token",s.session.access_token);const f=((u=s.user)==null?void 0:u.email)||((m=s.session.user)==null?void 0:m.email)||a;c(f==="rex360solutions@gmail.com"?"/admin":"/")}catch(s){d(s.message)}finally{n(!1)}};return e.jsx("div",{className:"min-h-screen pt-32 px-4 flex justify-center items-center bg-gray-50",children:e.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl border border-gray-100 w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-blue-950 mb-2",children:"Welcome Back"}),e.jsx("p",{className:"text-gray-500",children:"Login to access your REX360 account"})]}),i&&e.jsx("div",{className:"bg-red-50 text-red-600 p-4 rounded-lg text-sm mb-6 border border-red-100",children:i}),e.jsxs("form",{onSubmit:p,className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx(v,{className:"absolute left-3 top-3.5 text-gray-400",size:18}),e.jsx("input",{type:"email",required:!0,className:"w-full pl-10 p-3.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all",placeholder:"Enter your email address",value:a,onChange:t=>g(t.target.value)})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(N,{className:"absolute left-3 top-3.5 text-gray-400",size:18}),e.jsx("input",{type:"password",required:!0,className:"w-full pl-10 p-3.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all",placeholder:"••••••••",value:l,onChange:t=>h(t.target.value)})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(b,{to:"/forgot-password",className:"text-sm text-blue-600 font-bold hover:text-blue-800 transition",children:"Forgot Password?"})}),e.jsx("button",{type:"submit",disabled:o,className:"w-full bg-blue-950 text-white py-4 rounded-xl font-bold hover:bg-blue-900 transition-all shadow-lg flex justify-center items-center gap-2 disabled:opacity-70",children:o?e.jsxs(e.Fragment,{children:[e.jsx(w,{className:"animate-spin",size:20}),e.jsx("span",{children:"Verifying..."})]}):"Login to Dashboard"})]}),e.jsx("div",{className:"mt-8 pt-6 border-t border-gray-100 text-center",children:e.jsxs("p",{className:"text-gray-500 text-sm",children:["Don't have an account?"," ",e.jsx(b,{to:"/signup",className:"text-blue-600 font-bold hover:underline",children:"Create Account"})]})})]})})}export{P as default};
