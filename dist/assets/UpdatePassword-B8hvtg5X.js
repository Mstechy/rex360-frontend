import{c as g,r as s,b as P,j as e,L as k,s as C}from"./index-DqEOHoc-.js";import{A as S}from"./arrow-left-BRSOS5Ef.js";import{L as f}from"./lock-DSqZAfpU.js";import{L}from"./loader-circle-FlUVPQbq.js";/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h=g("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b=g("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);function q(){const[a,d]=s.useState(""),[c,i]=s.useState(""),[u,x]=s.useState(!1),[m,r]=s.useState(""),[w,p]=s.useState(!1),[l,y]=s.useState(!1),[n,j]=s.useState(!1),v=P(),N=async t=>{if(t.preventDefault(),r(""),p(!1),a!==c){r("Passwords do not match");return}if(a.length<6){r("Password must be at least 6 characters long");return}x(!0);try{const{error:o}=await C.auth.updateUser({password:a});if(o)throw o;p(!0),d(""),i(""),setTimeout(()=>{v("/login")},2e3)}catch(o){r(o.message||"Failed to update password")}finally{x(!1)}};return e.jsx("div",{className:"min-h-screen pt-32 px-4 flex justify-center items-center bg-gray-50",children:e.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl border border-gray-100 w-full max-w-md",children:[e.jsxs(k,{to:"/login",className:"flex items-center gap-2 text-gray-500 hover:text-blue-600 mb-6 font-bold text-sm",children:[e.jsx(S,{size:16})," Back to Login"]}),e.jsx("h2",{className:"text-3xl font-bold text-blue-950 mb-2",children:"Update Password"}),e.jsx("p",{className:"text-gray-500 mb-8",children:"Create a new secure password for your account."}),m&&e.jsx("div",{className:"bg-red-50 text-red-600 p-3 rounded-lg text-sm mb-4",children:m}),w&&e.jsx("div",{className:"bg-green-50 text-green-700 p-3 rounded-lg text-sm mb-4",children:"Password updated successfully! Redirecting to login..."}),e.jsxs("form",{onSubmit:N,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(f,{className:"absolute left-3 top-3 text-gray-400",size:18}),e.jsx("input",{type:l?"text":"password",required:!0,className:"w-full pl-10 pr-10 p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Enter new password",value:a,onChange:t=>d(t.target.value)}),e.jsx("button",{type:"button",onClick:()=>y(!l),className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600",children:l?e.jsx(h,{size:18}):e.jsx(b,{size:18})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Confirm Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(f,{className:"absolute left-3 top-3 text-gray-400",size:18}),e.jsx("input",{type:n?"text":"password",required:!0,className:"w-full pl-10 pr-10 p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Confirm password",value:c,onChange:t=>i(t.target.value)}),e.jsx("button",{type:"button",onClick:()=>j(!n),className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600",children:n?e.jsx(h,{size:18}):e.jsx(b,{size:18})})]})]}),e.jsx("button",{disabled:u,className:"w-full bg-blue-900 text-white py-3 rounded-xl font-bold hover:bg-blue-800 transition flex justify-center disabled:opacity-50",children:u?e.jsx(L,{className:"animate-spin"}):"Update Password"})]})]})})}export{q as default};
